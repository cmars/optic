---
title: "Using `api status` command"
slug: /change/api-status
---

After capturing traffic, Optic will be able to tell you if it observed any differences in behavior during the capture session. For example, Optic can tell you in there are any undocumented URLs in the traffic that was observed, or if any of the known endpoints had differences in behavior such as request or response shape differences. If an endpoint sees a new field, or a field that was previously documented is not always present, the field may need to be added to the specification or made optional. Optic will keep track of this for you, and can summarize the differences with `api status`.

## Running `api status`

After any capture session, Optic will check for undocumented behavior in the traffic. If it sees any, the capture session will end with the following:

```
[optic] Observed Unexpected API Behavior. Run "api status"
```

To get more information on this undocumented behavior in the API traffic, run:

```
api status
```

```
Computing API diffs... Done!
   Diffs observed for existing endpoints
     (use "api status --review" to review in the UI
         POST   /api/todos
        PATCH   /api/todos/{id}
âœ“  No undocumented URLs observed
```

In this case, no undocumented URLs were seen in the latest traffic. Two endpoints had differences in behavior. The Optic CLI suggest running `api status --review`, which opens the Optic Dashboard to the diff page to allow you to review the changes. The dashboard will show how many changes there are to review.

<Paper elevation={3}>

![Differences in behavior to review on some endpoints](/img/docs/change-status-diffs.png)

</Paper>

If you already know that you have made a matching number of changes, and don't wish to review them in detail, you may click **Approve All**, confirm your choice, and save the changes to your documentation. Even if you expect changes, we recommend reviewing them the first few times to get a feel for the interface. Clicking through an endpoint will bring you to a list of diffs for that endpoint. One will be shown at a time, with the difference in behavior detailed with sample traffic on the left and a detailed endpoint specification on the right. 

The left-hand side of the diff window will have some checkboxes, which allow you to define the types and metadata (such as whether the field is optional) for the given field change. On the right, the specification will be highlighted with the proposed change.

<Paper elevation={3}>

![Reviewing a field that was expected to be a string, but was not present in the traffic](/img/docs/change-status-diff.png)

</Paper>

In this case, the left side of the diff screen shows the `priority` field was not seen in the traffic. The specification expected the field to have a value of type `string`. Beneath the sample traffic, Optic has provided two checkboxes which in this case are checked: that the `priority` field should be a `string`, and that the field is optional. The options provided and the defaults offered depend on the current specification and all of the relevant traffic seen to this endpoint during the capture.

The differences can be ignored once with the **Ignore diff** button, and no changes will be made to the specification. If traffic is seen in future captures that would indicate the same specification change, it will appear in future diffs. Here, the Optic suggestions are correct: `priority` is an optional `string` field, and we'll click **Save changes** to make it part of the specification. Once endpoint diffs are all reviewed, Optic returns to the diff page.

<Paper elevation={3}>

![Reviewing a field that was expected to be a string, but was not present in the traffic](/img/docs/change-status-diff.png)

</Paper>

In this case, we reviewed all of the diffs to the `POST /api/todos` endpoint. There are still diffs to resolve or ignore to the `PATCH /api/todos/{TodoID}` endpoint. Once all endpoints have been updated or the unexpected traffic is ignored, don't forget to click **Save changes** to commit these changes to your documentation.