---
title: api debug
---

import IssuesAndContributing from '/docs/shared/issues-and-contributing.mdx';
const issue_url = 'https://github.com/opticdev/optic/issues/new?title=%5Bissue%5D:%20api%20debug%20';
const command_url = 'https://github.com/opticdev/optic/blob/develop/workspaces/local-cli/src/commands/debug.ts'

A set of commands that can be used for troubleshooting purposes. These are generally not needed in day to day use, and normally run on request from the UI or under advice from the Optic team for specific issues such as debugging a user session.

## api debug:capture [CAPTUREID]

Produces a debug file with [shape hashed](/reference) trafic and the current specification. This captures the context of a specific capture session (set of observed traffic) that can be shared with Optic maintainers. The shape hashed traffic only shows the keys and types of values of the request and response traffic: no values are included. This user session context is helpful when reproducing and fixing bugs in the local CLI. It takes as a parameter the Capture ID of the current capture session, which is found in the dashboard URL path: `{ ... }}/diffs/local/{ Capture ID }/urls`

### Flags & Options

- `CAPTUREID`  the captureId of the current capture session. This is part of the path of the Optic dashboard's diff URL, `/diffs/local/{this-id}`

### Examples

#### Dump a debugging capture file when reporting an issue

```
api debug:capture 0a01c76-37517e5f3dc66819f61f5a7bb8ace1921282415f10551d2defa5c3eb0985b570
```

```
sanitizing json bodies...... Done!
saved to: {...}/todo-js/debug-optic-1625254779558-happy-user-97.json
```

<IssuesAndContributing issue_url={issue_url} command_url={command_url} />
